<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Single-file React Starter — Interaktif</title>
  <!-- Tailwind via CDN for rapid styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    /* Small extra styles for animations */
    .card-enter { transform: translateY(8px); opacity: 0; }
    .card-enter-active { transform: translateY(0); opacity: 1; transition: all 320ms cubic-bezier(.2,.8,.2,1); }
    .glass { background: rgba(255,255,255,0.06); backdrop-filter: blur(6px); }
  </style>
</head>
<body class="bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-slate-100 min-h-screen flex items-center justify-center p-6">
  <div id="root" class="w-full max-w-4xl"></div>

  <!-- React + ReactDOM + Babel (for single-file demo only) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

  <!-- Single-file JSX app -->
  <script type="text/babel">
    const { useState, useEffect } = React;

    function Header({onAddSample, theme, toggleTheme}){
      return (
        <header className="flex items-center justify-between mb-6">
          <h1 className="text-2xl font-semibold tracking-tight">Starter: React (single-file)</h1>
          <div className="flex items-center gap-3">
            <button className="px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-500 transition" onClick={onAddSample}>Tambah contoh</button>
            <button className="px-3 py-1 rounded-md glass border border-slate-700" onClick={toggleTheme} title="Toggle theme">
              <span className="material-icons align-middle">{theme === 'dark' ? 'dark_mode' : 'light_mode'}</span>
            </button>
          </div>
        </header>
      );
    }

    function Counter(){
      const [count, setCount] = useState(0);
      return (
        <div className="p-4 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-700 shadow-md">
          <div className="flex items-center justify-between">
            <div>
              <div className="text-sm text-slate-300">Counter</div>
              <div className="text-3xl font-bold">{count}</div>
            </div>
            <div className="flex gap-2">
              <button onClick={()=>setCount(c=>c-1)} className="px-3 py-2 rounded-md glass">-</button>
              <button onClick={()=>setCount(0)} className="px-3 py-2 rounded-md glass">reset</button>
              <button onClick={()=>setCount(c=>c+1)} className="px-3 py-2 rounded-md bg-indigo-600">+</button>
            </div>
          </div>
        </div>
      );
    }

    function TodoApp({items, setItems}){
      const [text, setText] = useState('');
      function add(){
        if(!text.trim()) return;
        setItems(prev=>[{id:Date.now(), text:text.trim(), done:false}, ...prev]);
        setText('');
      }
      function toggle(id){
        setItems(prev=>prev.map(it => it.id===id?{...it, done:!it.done}:it));
      }
      function remove(id){
        setItems(prev=>prev.filter(it=>it.id!==id));
      }
      return (
        <div className="p-4 rounded-2xl glass border border-slate-700 shadow-inner">
          <div className="flex gap-2 mb-3">
            <input value={text} onChange={e=>setText(e.target.value)} onKeyDown={e=>e.key==='Enter' && add()} placeholder="Tambah tugas..." className="flex-1 px-3 py-2 rounded-md bg-transparent border border-slate-700 focus:outline-none" />
            <button onClick={add} className="px-3 py-2 rounded-md bg-emerald-600">Add</button>
          </div>
          <ul className="space-y-2 max-h-48 overflow-auto">
            {items.length===0 && <li className="text-slate-400 text-sm">(Belum ada tugas)</li>}
            {items.map(item=> (
              <li key={item.id} className={`p-2 rounded-md flex items-center justify-between ${item.done? 'opacity-60 line-through':''}`}>
                <div className="flex items-center gap-3">
                  <input type="checkbox" checked={item.done} onChange={()=>toggle(item.id)} />
                  <div>{item.text}</div>
                </div>
                <div className="flex gap-2">
                  <button onClick={()=>remove(item.id)} className="px-2 py-1 rounded-md glass">hapus</button>
                </div>
              </li>
            ))}
          </ul>
        </div>
      );
    }

    function DemoCard({title, children}){
      return (
        <div className="p-4 rounded-2xl glass border border-slate-700 shadow-sm">
          <div className="font-medium mb-2">{title}</div>
          {children}
        </div>
      );
    }

    function App(){
      const [items, setItems] = useState([]);
      const [theme, setTheme] = useState('dark');

      useEffect(()=>{
        document.documentElement.classList.remove('light','dark');
        document.documentElement.classList.add(theme);
      },[theme]);

      function addSample(){
        setItems(prev=>[
          {id:1, text:'Belajar React (single-file demo)', done:false},
          {id:2, text:'Buat tugas kampus', done:true},
          ...prev
        ]);
      }

      function toggleTheme(){
        setTheme(t=> t==='dark' ? 'light' : 'dark');
        // adjust body colors for light theme
        if(theme === 'dark'){
          document.body.style.background = 'linear-gradient(to bottom, #f8fafc, #e2e8f0)';
          document.body.style.color = '#0f172a';
        } else {
          document.body.style.background = '';
          document.body.style.color = '';
        }
      }

      return (
        <main className="space-y-4">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div className="md:col-span-2">
              <div className="p-6 rounded-3xl glass border border-slate-700 shadow-lg">
                <Header onAddSample={addSample} theme={theme} toggleTheme={toggleTheme} />

                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <DemoCard title="Counter">
                    <Counter />
                  </DemoCard>

                  <DemoCard title="Todo">
                    <TodoApp items={items} setItems={setItems} />
                  </DemoCard>
                </div>

                <div className="mt-4 text-sm text-slate-400">Tip: tekan tombol "Tambah contoh" untuk mengisi daftar tugas, atau klik theme button untuk toggle theme sederhana.</div>
              </div>
            </div>

            <div>
              <div className="p-6 rounded-3xl glass border border-slate-700 shadow-lg h-full flex flex-col gap-4">
                <div className="text-lg font-semibold">Interaktivitas</div>
                <div className="text-sm text-slate-300">Status tugas singkat</div>
                <div className="flex-1 overflow-auto">
                  <ul className="space-y-2">
                    {items.length===0 ? (
                      <li className="text-slate-400">Tidak ada aktivitas.</li>
                    ) : (
                      items.map(it => (
                        <li key={it.id} className="p-2 rounded-md bg-slate-800/30">{it.text} {it.done ? <span className="text-xs text-emerald-300">(selesai)</span> : ''}</li>
                      ))
                    )}
                  </ul>
                </div>
                <div className="text-xs text-slate-500">Single-file demo — cocok untuk belajar konsep-komponen dan memperlihatkan interaksi sederhana.</div>
              </div>
            </div>
          </div>

          <footer className="text-center text-xs text-slate-500">Made with ❤️ — single-file React + Tailwind demo</footer>
        </main>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
